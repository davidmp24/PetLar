{% extends 'index.html' %} {# Herda a estrutura base #}

{# Define o título da aba/janela do navegador #}
{% block title %}Detalhes de {{ adotante.nome_completo }} - PetLar{% endblock %}

{# Define o título principal da página #}
{% block page_title %}Detalhes do Adotante{% endblock %}

{# Bloco de conteúdo principal #}
{% block content %}
<div class="container mt-4"> {# Container com margem superior #}
    <div class="card p-4 shadow-lg bg-dark text-light"> {# Card estilizado #}

        {# Cabeçalho com nome e botões de ação #}
        <div class="d-flex justify-content-between align-items-center mb-3 flex-wrap"> {# Flexbox para alinhamento #}
             <h3 class="text-light mb-0 me-3">{{ adotante.nome_completo }}</h3> {# Nome do adotante #}
             <div class="mt-2 mt-md-0"> {# Garante espaçamento em telas menores #}
                 {# Botão para ir para a página de edição #}
                 <a href="{{ url_for('editar_adotante_form', adotante_id=adotante.id) }}" class="btn btn-warning me-2"><i class="fas fa-edit me-1"></i> Editar</a>
                 <button type="button" class="btn btn-secondary me-2" onclick="window.print();">
                    <i class="fas fa-print me-1"></i> Imprimir / Salvar
                </button>
                 {# Botão para voltar para a lista de adotantes #}
                 <a href="{{ url_for('listar_adotantes') }}" class="btn btn-secondary"><i class="fas fa-arrow-left me-1"></i> Voltar para Lista</a>
            </div>
        </div>
        <hr class="border-light mt-0 mb-4"> {# Divisor visual #}

        {# Layout em duas colunas para melhor organização #}
        <div class="row">
            <div class="row printable-area">
            {# Coluna Esquerda: Fotos #}
            <div class="col-lg-4 text-center mb-4 mb-lg-0">
                <h5 class="text-info mb-2">Foto Pessoal</h5>
                {% if adotante.foto_pessoal_filename %}
                    {# Exibe a foto pessoal se existir #}
                    <img src="{{ url_for('static', filename='uploads/adotantes/' + adotante.foto_pessoal_filename) }}" alt="Foto de {{ adotante.nome_completo }}" class="img-fluid rounded shadow mb-3" style="max-height: 300px; object-fit: cover;">
                {% else %}
                    {# Exibe um placeholder se não houver foto pessoal #}
                    <img src="{{ url_for('static', filename='images/placeholder_adotante.png') }}" alt="Sem Foto Pessoal" class="img-fluid rounded mb-3" style="max-height: 300px; max-width: 250px; object-fit: contain; opacity: 0.7;">
                     {# Garanta que 'static/images/placeholder_adotante.png' exista #}
                {% endif %}

                <h5 class="text-info mt-3 mb-2">Foto do Local</h5>
                 {% if adotante.foto_local_filename %}
                     {# Exibe a foto do local se existir #}
                    <img src="{{ url_for('static', filename='uploads/adotantes/' + adotante.foto_local_filename) }}" alt="Foto do local" class="img-fluid rounded shadow" style="max-height: 300px; object-fit: cover;">
                {% else %}
                     {# Exibe um placeholder se não houver foto do local #}
                    <img src="{{ url_for('static', filename='images/placeholder_local.png') }}" alt="Sem Foto do Local" class="img-fluid rounded" style="max-height: 300px; max-width: 250px; object-fit: contain; opacity: 0.7;">
                     {# Garanta que 'static/images/placeholder_local.png' exista #}
                {% endif %}
            </div>

            {# Coluna Direita: Informações textuais #}
            <div class="col-lg-8">
                {# Sub-colunas para organizar melhor as informações textuais #}
                <div class="row">
                    <div class="col-md-6"> {# Primeira sub-coluna textual #}
                        <h5 class="text-info">Informações Pessoais</h5>
                        <p><strong>ID:</strong> {{ adotante.id }}</p>
                        <p><strong>Data Cadastro:</strong> {{ adotante.data_cadastro.strftime('%d/%m/%Y %H:%M') if adotante.data_cadastro else 'N/A' }}</p>
                        <p><strong>Nome Completo:</strong> {{ adotante.nome_completo }}</p>
                        <p><strong>RG:</strong> {{ adotante.rg or 'Não informado' }}</p>
                        <p><strong>CPF:</strong> {{ adotante.cpf or 'Não informado' }}</p>

                        <h5 class="text-info mt-4">Contato</h5>
                        <p><strong>Endereço:</strong> {{ adotante.endereco or 'Não informado' }}</p>
                        <p><strong>Bairro:</strong> {{ adotante.bairro or 'Não informado' }}</p>
                        <p><strong>Cidade:</strong> {{ adotante.cidade or 'Não informado' }}</p>
                        <p><strong>CEP:</strong> {{ adotante.cep or 'Não informado' }}</p>
                        <p><strong>Telefone:</strong> {{ adotante.telefone or 'Não informado' }}</p>
                        <p><strong>Email:</strong> {{ adotante.email or 'Não informado' }}</p>
                    </div>
                     <div class="col-md-6"> {# Segunda sub-coluna textual #}
                         <h5 class="text-info">Interesse em Adoção</h5>
                         <p><strong>Animal de Interesse (Nome):</strong> {{ adotante.animal_interesse or 'Não informado' }}</p>
                         <p><strong>Tipo de Animal:</strong> {{ adotante.tipo_animal_interesse or 'Não informado' }}</p>
                         <p><strong>Justificativa:</strong></p>
                         {# Usa white-space: pre-wrap para preservar quebras de linha da textarea #}
                         <p style="white-space: pre-wrap; word-wrap: break-word;">{{ adotante.justificativa_adocao or 'Não informado' }}</p>

                         <h5 class="text-info mt-4">Questionário</h5>
                         <p><strong>Possui outros animais?</strong> {{ adotante.tem_outros_animais | capitalize or 'Não informado' }}</p> {# capitalize para 'Sim' ou 'Nao' #}
                         {% if adotante.tem_outros_animais == 'Sim' %}
                            <p><strong>Quantidade:</strong> {{ adotante.quantidade_animais or 'Não informado' }}</p>
                            <p><strong>Tipos:</strong> {{ adotante.tipos_animais or 'Não informado' }}</p>
                         {% endif %}
                         <p><strong>Tempo sozinho (horas/dia):</strong> {{ adotante.tempo_sozinho if adotante.tempo_sozinho is not none else 'Não informado' }}</p>

                         <h5 class="text-info mt-4">Crianças na Residência</h5>
                         <p><strong>Possui crianças?</strong> {{ adotante.tem_criancas | capitalize or 'Não informado' }}</p>
                         {% if adotante.tem_criancas == 'Sim' %}
                            <p><strong>Quantidade:</strong> {{ adotante.quantidade_criancas or 'Não informado' }}</p>
                            <p><strong>Idade(s):</strong> {{ adotante.idades_criancas or 'Não informado' }}</p>
                            <p><strong>Restrições (ex: alergias):</strong></p>
                             <p style="white-space: pre-wrap; word-wrap: break-word;">{{ adotante.restricoes_criancas or 'Nenhuma informada' }}</p>
                         {% endif %}
                    </div>
                </div>
            </div> {# Fim da Coluna Direita #}
        </div> {# Fim do row principal #}
    </div> {# Fim do card #}
</div> {# Fim do container #}
{% endblock %} {# Fim do Bloco Content #}